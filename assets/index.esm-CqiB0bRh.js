import{p as H,q as P,t as R,v as k,r as o,w as V,l as F,x as M}from"./chunk-HA7DTUK3-C41CBUci.js";function X(e){return function(){const n={params:k(),loaderData:R(),actionData:P(),matches:H()};return o.createElement(e,n)}}function Y(e){return function(){const n={params:k(),loaderData:R(),actionData:P(),error:V()};return o.createElement(e,n)}}const j=o.createContext(void 0),Z=({children:e})=>{const[t,n]=o.useState("light");o.useEffect(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme"),u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n(i||u)}},[]),o.useEffect(()=>{typeof window<"u"&&(document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t))},[t]);const d=()=>{n(i=>i==="light"?"dark":"light")};return F.jsx(j.Provider,{value:{theme:t,toggleTheme:d},children:e})},$=()=>{const e=o.useContext(j);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e};function J(e={}){const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:d}=e,[i,u]=o.useState(!1),l=o.useRef(n);l.current=n;const v=o.useRef(d);return v.current=d,o.useEffect(()=>{const r=document.createElement("script");return r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.nonce=t,r.onload=()=>{var c;u(!0),(c=l.current)===null||c===void 0||c.call(l)},r.onerror=()=>{var c;u(!1),(c=v.current)===null||c===void 0||c.call(v)},document.body.appendChild(r),()=>{document.body.removeChild(r)}},[t]),i}const O=o.createContext(null);function z({clientId:e,nonce:t,onScriptLoadSuccess:n,onScriptLoadError:d,children:i}){const u=J({nonce:t,onScriptLoadSuccess:n,onScriptLoadError:d}),l=o.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:u}),[e,u]);return M.createElement(O.Provider,{value:l},i)}function K(){const e=o.useContext(O);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function N(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const Q={large:40,medium:32,small:20};function ee({onSuccess:e,onError:t,useOneTap:n,promptMomentNotification:d,type:i="standard",theme:u="outline",size:l="large",text:v,shape:r,logo_alignment:c,width:C,locale:L,click_listener:B,containerProps:m,...W}){const T=o.useRef(null),{clientId:G,scriptLoadedSuccessfully:A}=K(),I=o.useRef(e);I.current=e;const w=o.useRef(t);w.current=t;const D=o.useRef(d);return D.current=d,o.useEffect(()=>{var h,g,p,E,_,S,x,y,b;if(A)return(p=(g=(h=window==null?void 0:window.google)===null||h===void 0?void 0:h.accounts)===null||g===void 0?void 0:g.id)===null||p===void 0||p.initialize({client_id:G,callback:a=>{var s;if(!(a!=null&&a.credential))return(s=w.current)===null||s===void 0?void 0:s.call(w);const{credential:f,select_by:q}=a;I.current({credential:f,clientId:N(a),select_by:q})},...W}),(S=(_=(E=window==null?void 0:window.google)===null||E===void 0?void 0:E.accounts)===null||_===void 0?void 0:_.id)===null||S===void 0||S.renderButton(T.current,{type:i,theme:u,size:l,text:v,shape:r,logo_alignment:c,width:C,locale:L,click_listener:B}),n&&((b=(y=(x=window==null?void 0:window.google)===null||x===void 0?void 0:x.accounts)===null||y===void 0?void 0:y.id)===null||b===void 0||b.prompt(D.current)),()=>{var a,s,f;n&&((f=(s=(a=window==null?void 0:window.google)===null||a===void 0?void 0:a.accounts)===null||s===void 0?void 0:s.id)===null||f===void 0||f.cancel())}},[G,A,n,i,u,l,v,r,c,C,L]),M.createElement("div",{...m,ref:T,style:{height:Q[l],...m==null?void 0:m.style}})}export{z as G,Z as T,Y as a,ee as b,$ as u,X as w};
